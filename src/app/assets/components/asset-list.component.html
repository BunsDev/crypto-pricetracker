<card class="bg-white dark:bg-black px-2 py-1 shadow">
  <div class="justify-between" cardHeader>
    <span class="font-bold text-sm">{{name}}</span>
    <button sndvll-btn="icon" #dropdownOrigin (click)="openContextMenu(dropdownOrigin, dropdown)">
      <icon name="more-vertical"></icon>
    </button>
  </div>
  <div cardContent>
    <div class="grid grid-cols-7 grid-flow-col auto-cols-min px-2 text-xs font-bold">
      <div class="text-right col-span-5">Rate</div>
      <div class="text-right col-span-2">Quantity</div>
    </div>

    <sndvll-accordion>
      <sndvll-accordion-item
        class="block rounded select-none my-1 px-2 py-1"
        *ngFor="let asset of assets"
        [class.bg-gray-100]="item.expanded"
        [class.dark:bg-gray-800]="item.expanded"
        #item>
        <sndvll-accordion-item-header>
          <asset-header [asset]="asset"></asset-header>
        </sndvll-accordion-item-header>
        <sndvll-accordion-item-content>
          <asset-body [asset]="asset"
                      (onSave)="editAsset($event)"></asset-body>
        </sndvll-accordion-item-content>
      </sndvll-accordion-item>
    </sndvll-accordion>
  </div>
</card>

<ng-template #dropdown>
  <button sndvll-dropdown-item (click)="openAddAssetModal(addAssetModal)" class="text-black dark:text-white">
    <icon name="plus-circle"></icon>
    <span class="ml-2">Add asset</span>
  </button>
  <button sndvll-dropdown-item (click)="openChangeNameAlert()" class="text-black dark:text-white">
    <icon name="edit"></icon>
    <span class="ml-2">Change name</span>
  </button>
  <button sndvll-dropdown-item (click)="openDeleteListAlert()" class="text-red-400 dark:text-red-400">
    <icon name="trash-2"></icon>
    <span class="ml-2">Delete List</span>
  </button>
</ng-template>

<ng-template #addAssetModal>
  <div class="justify-between" modalHeader>
    <span class="text-lg font-bold">Add asset</span>
  </div>
  <div modalContent>
    <div class="text-xs font-bold">Name</div>
    <div class="text-xs font-bold">Quantity</div>
    <div class="text-xs font-bold">Color</div>
  </div>
  <div class="justify-between" modalFooter>
    <button sndvll-btn="button" class="secondary" (click)="closeAddAssetModal()">Close</button>
    <button sndvll-btn="button" class="success" [disabled]="false" (click)="saveNewAsset()">Save</button>
  </div>
</ng-template>
