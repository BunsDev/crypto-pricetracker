<card class="px-2 py-1">
  <div class="justify-between" cardHeader>
    <span class="font-bold text-sm">{{name}}</span>
    <button sndvll-btn="icon" #contextMenuButton (click)="openContextMenu(contextMenuButton, contextMenu)">
      <icon name="more-vertical"></icon>
    </button>
  </div>
  <div cardContent>
    <div class="grid grid-cols-7 grid-flow-col auto-cols-min px-2 text-xs font-bold">
      <div class="text-right col-span-5">{{'ASSET_LIST.HEADER.RATE' | translate}}</div>
      <div class="text-right col-span-2">{{'ASSET_LIST.HEADER.QUANTITY' | translate}}</div>
    </div>

    <sndvll-accordion>
      <sndvll-accordion-item
        class="block rounded select-none my-1 px-2 py-1"
        *ngFor="let asset of assets"
        [class.bg-gray-100]="item.expanded"
        [class.dark:bg-gray-800]="item.expanded"
        [id]="asset.id"
        #item>
        <sndvll-accordion-item-header>
          <asset-header [asset]="asset"></asset-header>
        </sndvll-accordion-item-header>
        <sndvll-accordion-item-content>
          <asset-body [asset]="asset"
                      (onSave)="onSaveEditedAsset($event)"
                      (onDelete)="onDeleteAsset($event)"></asset-body>
        </sndvll-accordion-item-content>
      </sndvll-accordion-item>
    </sndvll-accordion>
  </div>
</card>

<ng-template #contextMenu>
  <button sndvll-dropdown-item (click)="openChangeNameAlert()" class="text-black dark:text-white">
    <icon name="edit"></icon>
    <span class="ml-2">{{'ASSET_LIST.CONTEXT_MENU.CHANGE_NAME' | translate}}</span>
  </button>
  <button sndvll-dropdown-item (click)="openDeleteListAlert()" class="text-red-400 dark:text-red-400">
    <icon name="trash-2"></icon>
    <span class="ml-2">{{'ASSET_LIST.CONTEXT_MENU.DELETE_LIST' | translate}}</span>
  </button>
</ng-template>
