<card class="bg-white dark:bg-black px-2 py-1 shadow">
  <div class="justify-between" cardHeader>
    <span class="font-bold text-sm">{{name}}</span>
    <button sndvll-btn="icon" #contextMenuButton (click)="openContextMenu(contextMenuButton, contextMenu)">
      <icon name="more-vertical"></icon>
    </button>
  </div>
  <div cardContent>
    <div class="grid grid-cols-7 grid-flow-col auto-cols-min px-2 text-xs font-bold">
      <div class="text-right col-span-5">Rate</div>
      <div class="text-right col-span-2">Quantity</div>
    </div>

    <sndvll-accordion>
      <sndvll-accordion-item
        class="block rounded select-none my-1 px-2 py-1"
        *ngFor="let asset of assets"
        [class.bg-gray-100]="item.expanded"
        [class.dark:bg-gray-800]="item.expanded"
        [id]="asset.id"
        #item>
        <sndvll-accordion-item-header>
          <asset-header [asset]="asset"></asset-header>
        </sndvll-accordion-item-header>
        <sndvll-accordion-item-content>
          <asset-body [asset]="asset"
                      (onSave)="saveEditedAsset($event)"
                      (onDelete)="deleteAsset($event)"></asset-body>
        </sndvll-accordion-item-content>
      </sndvll-accordion-item>
    </sndvll-accordion>
  </div>
</card>

<ng-template #contextMenu>
  <button sndvll-dropdown-item (click)="openChangeNameAlert()" class="text-black dark:text-white">
    <icon name="edit"></icon>
    <span class="ml-2">Change name</span>
  </button>
  <button sndvll-dropdown-item (click)="openDeleteListAlert()" class="text-red-400 dark:text-red-400">
    <icon name="trash-2"></icon>
    <span class="ml-2">Delete List</span>
  </button>
</ng-template>

<!--<ng-template #addAssetModal>
  <div class="justify-between" modalHeader>
    <span class="text-lg font-bold">Add asset</span>
  </div>
  <div modalContent>
    <form [formGroup]="addAssetForm">
      <div class="text-xs font-bold">Name</div>
      <sndvll-select formControlName="asset"
                     placeholder="Name"
                     [searchable]="true"
                     class="my-1"
                     (onSearch)="onSelectAssetSearch($event)"
                     (onClose)="onSelectAssetClose()">
        <sndvll-select-option *ngFor="let option of options"
                              [value]="option">
          <div *selectLabel>
            {{option.name}}
          </div>
        </sndvll-select-option>
      </sndvll-select>
      <div class="text-xs font-bold mt-2">Quantity</div>
      <sndvll-input formControlName="quantity"
                    type="number"
                    placeholder="Quantity"
                    class="w-full my-1"></sndvll-input>
      <div class="text-xs font-bold mt-2">Color</div>
      <sndvll-select formControlName="color"
                     class="my-1"
                     placeholder="Color"
                     [clearable]="false">
        <sndvll-select-option *ngFor="let color of colors"
                              [value]="color">
          <div *selectLabel>
            {{color}}
          </div>
        </sndvll-select-option>
      </sndvll-select>
    </form>
  </div>
  <div class="flex-col" modalFooter>
    <button sndvll-btn="button" class="secondary mb-2" (click)="closeAddAssetModal()">Close</button>
    <button sndvll-btn="button" class="success" [disabled]="addAssetForm.invalid" (click)="addNewAsset()">Save</button>
  </div>
</ng-template>-->
